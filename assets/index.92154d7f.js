import{ax as t,ay as e,az as a,aA as n,C as r}from"./index.fec87d2a.js";import{r as o,aN as s,u as i,ag as l,ad as c,z as d,Z as u,D as m,F as p,a2 as f,w as h,a9 as g}from"./vendor.816c78c5.js";import{P as x}from"./index.e6650eff.js";/* empty css              *//* empty css              */import"./onMountedOrActivated.3c82604a.js";import"./useWindowSizeFn.b43d7152.js";import"./useContentViewHeight.5682504b.js";const C=Symbol("watermark-dom");function b(r=o(document.body)){const d=a((function(){const t=i(r);if(!t)return;const{clientHeight:e,clientWidth:a}=t;f({height:e,width:a})})),u=C.toString(),m=s(),p=()=>{const e=i(m);m.value=void 0;const a=i(r);a&&(e&&a.removeChild(e),t(a,d))};function f(t={}){const e=i(m);e&&(n(t.width)&&(e.style.width=`${t.width}px`),n(t.height)&&(e.style.height=`${t.height}px`),n(t.str)&&(e.style.background=`url(${function(t){const e=document.createElement("canvas");Object.assign(e,{width:300,height:240});const a=e.getContext("2d");return a&&(a.rotate(-20*Math.PI/120),a.font="15px Vedana",a.fillStyle="rgba(0, 0, 0, 0.15)",a.textAlign="left",a.textBaseline="middle",a.fillText(t,15,240)),e.toDataURL("image/png")}(t.str)}) left top repeat`))}return{setWatermark:function(t){(t=>{if(i(m))return f({str:t}),u;const e=document.createElement("div");m.value=e,e.id=u,e.style.pointerEvents="none",e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.zIndex="100000";const a=i(r);if(!a)return u;const{clientHeight:n,clientWidth:o}=a;f({str:t,width:o,height:n}),a.appendChild(e)})(t),e(document.documentElement,d),c()&&l((()=>{p()}))},clear:p}}var k=d({components:{CollapseContainer:r,PageWrapper:x},setup(){const t=o(null),{setWatermark:e,clear:a}=b();return{setWatermark:e,clear:a,areaRef:t}}});const w=g(" Create "),y=g(" Clear "),W=g(" Reset ");k.render=function(t,e,a,n,r,o){const s=u("a-button"),i=u("CollapseContainer"),l=u("PageWrapper");return m(),p(l,{title:"水印示例"},{default:f((()=>[h(i,{class:"w-full h-32 bg-white rounded-md",title:"Global WaterMark"},{default:f((()=>[h(s,{type:"primary",class:"mr-2",onClick:e[1]||(e[1]=e=>t.setWatermark("WaterMark Info"))},{default:f((()=>[w])),_:1}),h(s,{color:"error",class:"mr-2",onClick:t.clear},{default:f((()=>[y])),_:1},8,["onClick"]),h(s,{color:"warning",class:"mr-2",onClick:e[2]||(e[2]=e=>t.setWatermark("WaterMark Info New"))},{default:f((()=>[W])),_:1})])),_:1})])),_:1})};export{k as default};
