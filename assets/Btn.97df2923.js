import{z as e,br as s,a_ as a,j as o,A as r,B as t,D as i,F as n,w as d,J as c,a7 as l,a8 as m,G as u,K as f,a9 as p,Z as _,aw as v}from"./vendor.816c78c5.js";/* empty css              *//* empty css              */import y from"./CurrentPermissionMode.aa1d997f.js";import{F as P,aJ as b,an as h,f as x,aI as k}from"./index.fec87d2a.js";import{A as j}from"./index.c9340dc1.js";import{P as C}from"./index.e6650eff.js";/* empty css              *//* empty css              */import"./onMountedOrActivated.3c82604a.js";import"./useWindowSizeFn.b43d7152.js";import"./useContentViewHeight.5682504b.js";var g=e({components:{Alert:s,PageWrapper:C,CurrentPermissionMode:y,Divider:a,Authority:j},setup(){const{hasPermission:e}=P(),s=b(),a=h(),r=x(),t=o((()=>a.getProjectConfig.permissionMode===k.BACK));return{hasPermission:e,permissionStore:s,switchToken:function(e){return a=this,o=null,t=function*(){const a="fakeToken"+e;r.setToken(a),r.getUserInfoAction(),s.changePermissionCode()},new Promise(((e,s)=>{var r=e=>{try{n(t.next(e))}catch(a){s(a)}},i=e=>{try{n(t.throw(e))}catch(a){s(a)}},n=s=>s.done?e(s.value):Promise.resolve(s.value).then(r,i);n((t=t.apply(a,o)).next())}));var a,o,t},isBackPremissionMode:t}}});const w=f("data-v-bab1a030");r("data-v-bab1a030");const A=p(" 当前拥有的code列表: "),M=p(" 点击切换按钮权限(用户id为2) "),B=p(" 点击切换按钮权限(用户id为1,默认) "),T=p("组件方式判断权限"),D=p(" 拥有code ['1000']权限可见 "),F=p(" 拥有code ['2000']权限可见 "),I=p(" 拥有code ['1000','2000']角色权限可见 "),S=p("函数方式方式判断权限"),W=p(" 拥有code ['1000']权限可见 "),z=p(" 拥有code ['2000']权限可见 "),J=p(" 拥有code ['1000','2000']角色权限可见 "),K=p("指令方式方式判断权限(该方式不能动态修改权限.)"),G=p(" 拥有code ['1000']权限可见 "),H=p(" 拥有code ['2000']权限可见 "),L=p(" 拥有code ['1000','2000']角色权限可见 ");t();const O=w(((e,s,a,o,r,t)=>{const f=_("CurrentPermissionMode"),p=_("Divider"),y=_("Alert"),P=_("a-button"),b=_("Authority"),h=_("PageWrapper"),x=v("auth");return i(),n(h,{contentBackground:"",title:"按钮权限控制",contentClass:"p-4"},{default:w((()=>[d(f),d("p",null,[A,d("a",null,c(e.permissionStore.getPermCodeList),1)]),d(p),d(y,{class:"mt-4",type:"info",message:"点击后请查看按钮变化(必须处于后台权限模式才可测试此页面所展示的功能)","show-icon":""}),d(p),d(P,{type:"primary",class:"mr-2",onClick:s[1]||(s[1]=s=>e.switchToken(2)),disabled:!e.isBackPremissionMode},{default:w((()=>[M])),_:1},8,["disabled"]),d(P,{type:"primary",onClick:s[2]||(s[2]=s=>e.switchToken(1)),disabled:!e.isBackPremissionMode},{default:w((()=>[B])),_:1},8,["disabled"]),e.isBackPremissionMode?(i(),n(l,{key:0},[d(p,null,{default:w((()=>[T])),_:1}),d(b,{value:"1000"},{default:w((()=>[d(P,{type:"primary",class:"mx-4"},{default:w((()=>[D])),_:1})])),_:1}),d(b,{value:"2000"},{default:w((()=>[d(P,{color:"success",class:"mx-4"},{default:w((()=>[F])),_:1})])),_:1}),d(b,{value:["1000","2000"]},{default:w((()=>[d(P,{color:"error",class:"mx-4"},{default:w((()=>[I])),_:1})])),_:1}),d(p,null,{default:w((()=>[S])),_:1}),e.hasPermission("1000")?(i(),n(P,{key:0,type:"primary",class:"mx-4"},{default:w((()=>[W])),_:1})):m("v-if",!0),e.hasPermission("2000")?(i(),n(P,{key:1,color:"success",class:"mx-4"},{default:w((()=>[z])),_:1})):m("v-if",!0),e.hasPermission(["1000","2000"])?(i(),n(P,{key:2,color:"error",class:"mx-4"},{default:w((()=>[J])),_:1})):m("v-if",!0),d(p,null,{default:w((()=>[K])),_:1}),u(d(P,{type:"primary",class:"mx-4"},{default:w((()=>[G])),_:1},512),[[x,"1000"]]),u(d(P,{color:"success",class:"mx-4"},{default:w((()=>[H])),_:1},512),[[x,"2000"]]),u(d(P,{color:"error",class:"mx-4"},{default:w((()=>[L])),_:1},512),[[x,["1000","2000"]]])],64)):m("v-if",!0)])),_:1})}));g.render=O,g.__scopeId="data-v-bab1a030";export{g as default};
