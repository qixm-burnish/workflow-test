import e from"./CurrentPermissionMode.aa1d997f.js";import{F as s,f as t,an as o,aH as n,aI as a}from"./index.fec87d2a.js";import{P as r}from"./index.e6650eff.js";import{z as i,br as d,j as c,A as m,B as u,D as l,F as p,w as f,K as b,a9 as k,Z as j}from"./vendor.816c78c5.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./onMountedOrActivated.3c82604a.js";import"./useWindowSizeFn.b43d7152.js";import"./useContentViewHeight.5682504b.js";var h=i({components:{Alert:d,CurrentPermissionMode:e,PageWrapper:r},setup(){const{refreshMenu:e}=s(),r=t(),i=o(),d=c((()=>i.getProjectConfig.permissionMode===a.BACK));return{RoleEnum:n,refreshMenu:e,switchToken:function(s){return t=this,o=null,n=function*(){const t="fakeToken"+s;r.setToken(t),r.getUserInfoAction(),e()},new Promise(((e,s)=>{var a=e=>{try{i(n.next(e))}catch(t){s(t)}},r=e=>{try{i(n.throw(e))}catch(t){s(t)}},i=s=>s.done?e(s.value):Promise.resolve(s.value).then(a,r);i((n=n.apply(t,o)).next())}));var t,o,n},isBackPremissionMode:d}}});const v=b("data-v-678ac4e6");m("data-v-678ac4e6");const P={class:"mt-4"},M=k(" 权限切换(请先切换权限模式为后台权限模式): "),g=k(" 获取用户id为1的菜单 "),w=k(" 获取用户id为2的菜单 ");u();const x=v(((e,s,t,o,n,a)=>{const r=j("CurrentPermissionMode"),i=j("Alert"),d=j("a-button"),c=j("a-button-group"),m=j("PageWrapper");return l(),p(m,{title:"后台权限示例",contentBackground:"",contentClass:"p-4",content:"目前mock了两组数据， id为1 和 2 具体返回的菜单可以在mock/sys/menu.ts内查看"},{default:v((()=>[f(r),f(i,{class:"mt-4",type:"info",message:"点击后请查看左侧菜单变化","show-icon":""}),f("div",P,[M,f(c,null,{default:v((()=>[f(d,{onClick:s[1]||(s[1]=s=>e.switchToken(1)),disabled:!e.isBackPremissionMode},{default:v((()=>[g])),_:1},8,["disabled"]),f(d,{onClick:s[2]||(s[2]=s=>e.switchToken(2)),disabled:!e.isBackPremissionMode},{default:v((()=>[w])),_:1},8,["disabled"])])),_:1})])])),_:1})}));h.render=x,h.__scopeId="data-v-678ac4e6";export{h as default};
