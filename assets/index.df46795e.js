var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(t,o,s)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[o]=s,r=(e,t)=>{for(var o in t||(t={}))l.call(t,o)&&n(e,o,t[o]);if(s)for(var o of s(t))a.call(t,o)&&n(e,o,t[o]);return e},i=(e,s)=>t(e,o(s));import{e as c,c as u,X as p,p as d,W as f,m as g,T as w,s as v,i as h,q as y,S as b,w as m}from"./index.fec87d2a.js";import{z as C,j as k,Z as D,D as x,F as B,a7 as $,a4 as O,a0 as P,a2 as S,a9 as T,J as _,a8 as j,bZ as F,w as L,b_ as H,r as V,Q as A,u as N,t as E,Y as I,ad as M,aw as Z,aA as q,G as z,ao as G,N as J,b5 as Q,ab as R,ai as W}from"./vendor.816c78c5.js";/* empty css              */const{t:X}=c(),Y={confirmLoading:{type:Boolean},showCancelBtn:{type:Boolean,default:!0},cancelButtonProps:Object,cancelText:{type:String,default:X("common.cancelText")},showOkBtn:{type:Boolean,default:!0},okButtonProps:Object,okText:{type:String,default:X("common.okText")},okType:{type:String,default:"primary"},showFooter:{type:Boolean},footerHeight:{type:[String,Number],default:60}},K=r({isDetail:{type:Boolean},title:{type:String,default:""},loadingText:{type:String},showDetailBack:{type:Boolean,default:!0},visible:{type:Boolean},loading:{type:Boolean},maskClosable:{type:Boolean,default:!0},getContainer:{type:[Object,String]},closeFunc:{type:[Function,Object],default:null},destroyOnClose:{type:Boolean}},Y);var U=C({name:"BasicDrawerFooter",props:i(r({},Y),{height:{type:String,default:"60px"}}),emits:["ok","close"],setup(e,{emit:t}){const{prefixCls:o}=u("basic-drawer-footer");return{handleOk:function(){t("ok")},prefixCls:o,handleClose:function(){t("close")},getStyle:k((()=>{const t=`${e.height}`;return{height:t,lineHeight:t}}))}}});U.render=function(e,t,o,s,l,a){const n=D("a-button");return e.showFooter||e.$slots.footer?(x(),B("div",{key:0,class:e.prefixCls,style:e.getStyle},[e.$slots.footer?O(e.$slots,"footer",{key:1}):(x(),B($,{key:0},[O(e.$slots,"insertFooter"),e.showCancelBtn?(x(),B(n,P({key:0},e.cancelButtonProps,{onClick:e.handleClose,class:"mr-2"}),{default:S((()=>[T(_(e.cancelText),1)])),_:1},16,["onClick"])):j("v-if",!0),O(e.$slots,"centerFooter"),e.showOkBtn?(x(),B(n,P({key:1,type:e.okType,onClick:e.handleOk},e.okButtonProps,{class:"mr-2",loading:e.confirmLoading}),{default:S((()=>[T(_(e.okText),1)])),_:1},16,["type","onClick","loading"])):j("v-if",!0),O(e.$slots,"appendFooter")],64))],6)):j("v-if",!0)};var ee=C({name:"BasicDrawerHeader",components:{BasicTitle:p,ArrowLeftOutlined:F},props:{isDetail:d.bool,showDetailBack:d.bool,title:d.string},emits:["close"],setup(e,{emit:t}){const{prefixCls:o}=u("basic-drawer-header");return{prefixCls:o,handleClose:function(){t("close")}}}});const te={key:1};ee.render=function(e,t,o,s,l,a){const n=D("BasicTitle"),r=D("ArrowLeftOutlined");return e.isDetail?(x(),B("div",{key:1,class:[e.prefixCls,`${e.prefixCls}--detail`]},[L("span",{class:`${e.prefixCls}__twrap`},[e.showDetailBack?(x(),B("span",{key:0,onClick:t[1]||(t[1]=(...t)=>e.handleClose&&e.handleClose(...t))},[L(r,{class:`${e.prefixCls}__back`},null,8,["class"])])):j("v-if",!0),e.title?(x(),B("span",te,_(e.title),1)):j("v-if",!0)],2),L("span",{class:`${e.prefixCls}__toolbar`},[O(e.$slots,"titleToolbar")],2)],2)):(x(),B(n,{key:0,class:e.prefixCls},{default:S((()=>[O(e.$slots,"title"),T(" "+_(e.$slots.title?"":e.title),1)])),_:3},8,["class"]))};var oe=C({components:{Drawer:H,ScrollContainer:f,DrawerFooter:U,DrawerHeader:ee},inheritAttrs:!1,props:K,emits:["visible-change","ok","close","register"],setup(e,{emit:t}){const o=V(!1),s=g(),l=V(null),{t:a}=c(),{prefixVar:n,prefixCls:p}=u("basic-drawer"),d={setDrawerProps:function(e){l.value=w(N(l)||{},e),Reflect.has(e,"visible")&&(o.value=!!e.visible)},emitVisible:void 0},f=M();f&&t("register",d,f.uid);const y=k((()=>w(E(e),N(l)))),b=k((()=>{const e=i(r(r({placement:"right"},N(s)),N(y)),{visible:N(o)});e.title=void 0;const{isDetail:t,width:l,wrapClassName:a,getContainer:c}=e;if(t){l||(e.width="100%");const t=`${p}__detail`;e.wrapClassName=a?`${a} ${t}`:t,c||(e.getContainer=`.${n}-layout-content`)}return e})),m=k((()=>r(r({},s),N(b)))),C=k((()=>{const{footerHeight:e,showFooter:t}=N(b);return t&&e?v(e)?`${e}px`:`${e.replace("px","")}px`:"0px"})),D=k((()=>({position:"relative",height:`calc(100% - ${N(C)})`}))),x=k((()=>{var e;return!!(null==(e=N(b))?void 0:e.loading)}));return A((()=>e.visible),((e,t)=>{e!==t&&(o.value=e)}),{deep:!0}),A((()=>o.value),(e=>{I((()=>{var o;t("visible-change",e),f&&(null==(o=d.emitVisible)||o.call(d,e,f.uid))}))})),{onClose:function(e){return s=this,l=null,a=function*(){const{closeFunc:s}=N(b);if(t("close",e),s&&h(s)){const e=yield s();o.value=!e}else o.value=!1},new Promise(((t,o)=>{var n=t=>{try{i(a.next(t))}catch(e){o(e)}},r=t=>{try{i(a.throw(t))}catch(e){o(e)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,r);i((a=a.apply(s,l)).next())}));var s,l,a},t:a,prefixCls:p,getMergeProps:y,getScrollContentStyle:D,getProps:b,getLoading:x,getBindValues:m,getFooterHeight:C,handleOk:function(){t("ok")}}}});oe.render=function(e,t,o,s,l,a){const n=D("DrawerHeader"),r=D("ScrollContainer"),i=D("DrawerFooter"),c=D("Drawer"),u=Z("loading");return x(),B(c,P({class:e.prefixCls,onClose:e.onClose},e.getBindValues),q({default:S((()=>[z(L(r,{style:e.getScrollContentStyle,"loading-tip":e.loadingText||e.t("common.loadingText")},{default:S((()=>[O(e.$slots,"default")])),_:3},8,["style","loading-tip"]),[[u,e.getLoading]]),L(i,P(e.getProps,{onClose:e.onClose,onOk:e.handleOk,height:e.getFooterHeight}),q({_:2},[G(Object.keys(e.$slots),(t=>({name:t,fn:S((o=>[O(e.$slots,t,o)]))})))]),1040,["onClose","onOk","height"])])),_:2},[e.$slots.title?{name:"title",fn:S((()=>[O(e.$slots,"title")]))}:{name:"title",fn:S((()=>[L(n,{title:e.getMergeProps.title,isDetail:e.isDetail,showDetailBack:e.showDetailBack,onClose:e.onClose},{titleToolbar:S((()=>[O(e.$slots,"titleToolbar")])),_:3},8,["title","isDetail","showDetailBack","onClose"])]))}]),1040,["class","onClose"])};const se=J({}),le=J({});function ae(){if(!M())throw new Error("useDrawer() can only be used inside setup() or functional components!");const e=V(null),t=V(!1),o=V("");const s=()=>{const t=N(e);return t||b("useDrawer instance is undefined!"),t};return[function(s,l){R((()=>{e.value=null,t.value=null,se[N(o)]=null})),N(t)&&y()&&s===N(e)||(o.value=l,e.value=s,t.value=!0,s.emitVisible=(e,t)=>{le[t]=e})},{setDrawerProps:e=>{var t;null==(t=s())||t.setDrawerProps(e)},getVisible:k((()=>le[~~N(o)])),openDrawer:(e=!0,t,l=!0)=>{var a;if(null==(a=s())||a.setDrawerProps({visible:e}),!t)return;if(l)return se[N(o)]=null,void(se[N(o)]=E(t));Q(E(se[N(o)]),E(t))||(se[N(o)]=E(t))},closeDrawer:()=>{var e;null==(e=s())||e.setDrawerProps({visible:!1})}}]}const ne=e=>{const t=V(null),o=M(),s=V("");if(!M())throw new Error("useDrawerInner() can only be used inside setup() or functional components!");const l=()=>{const e=N(t);if(e)return e;b("useDrawerInner instance is undefined!")};return W((()=>{const t=se[N(s)];t&&e&&h(e)&&I((()=>{e(t)}))})),[(e,l)=>{R((()=>{t.value=null})),s.value=l,t.value=e,null==o||o.emit("register",e,l)},{changeLoading:(e=!0)=>{var t;null==(t=l())||t.setDrawerProps({loading:e})},changeOkLoading:(e=!0)=>{var t;null==(t=l())||t.setDrawerProps({confirmLoading:e})},getVisible:k((()=>le[~~N(s)])),closeDrawer:()=>{var e;null==(e=l())||e.setDrawerProps({visible:!1})},setDrawerProps:e=>{var t;null==(t=l())||t.setDrawerProps(e)}}]},re=m(oe);export{re as B,ne as a,ae as u};
